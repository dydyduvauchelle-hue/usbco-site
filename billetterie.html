<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>USBCO â€” Billetterie</title>
  <meta name="description" content="Billetterie officielle de lâ€™US Boulogne CÃ´te dâ€™Opale : choisissez votre place sur le plan du stade." />
  <link rel="icon" type="image/png" href="./assets/favicon.png" />
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    html{scroll-behavior:smooth}
    /* Hotspots = zones cliquables positionnÃ©es en % sur l'image */
    .hotspot {
      position: absolute;
      transform: translate(-50%, -50%);
      background: rgba(255,255,255,.85);
      border: 2px solid #111;
      border-radius: .5rem;
      padding: .25rem .45rem;
      font-size: .8rem;
      cursor: pointer;
      white-space: nowrap;
      box-shadow: 0 6px 14px rgba(0,0,0,.18);
    }
    .hotspot:hover { background:#111; color:#fff; }
    .pill { display:inline-block; padding:.15rem .5rem; border-radius:999px; border:1px solid rgba(0,0,0,.15); }
    .badge { font-size:.75rem; padding:.15rem .45rem; border-radius:.35rem; background:#f3f4f6; }
  </style>
</head>
<body class="bg-white text-gray-900">
  <!-- Header -->
  <header class="sticky top-0 z-50 bg-white/90 backdrop-blur border-b">
    <div class="max-w-7xl mx-auto flex justify-between items-center px-4 py-3">
      <a href="index.html" class="flex items-center gap-3 group">
        <img src="./assets/logo-usbco.png" alt="USBCO"
             class="h-12 w-12 rounded-lg border bg-white object-contain p-1 group-hover:opacity-90 transition" />
        <span class="font-bold text-xl text-red-700 group-hover:text-red-800 transition">US Boulogne CÃ´te dâ€™Opale</span>
      </a>
      <nav class="flex gap-6 items-center">
        <a href="matchs.html" class="hover:text-red-600">Matchs</a>
        <a href="actus.html" class="hover:text-red-600">Actus</a>
        <a href="billetterie.html" class="text-red-700 font-bold">Billetterie</a>
        <a href="boutique.html" class="hover:text-red-600">Boutique</a>
        <a href="club.html" class="hover:text-red-600">Le club</a>
      </nav>
    </div>
  </header>

  <!-- Hero -->
  <section class="relative h-[40vh] flex items-center justify-center text-center text-white">
    <img src="./assets/hero.jpg" alt="Billetterie USBCO" class="absolute inset-0 w-full h-full object-cover" />
    <div class="absolute inset-0 bg-black/50"></div>
    <h1 class="relative z-10 text-4xl md:text-5xl font-bold">Billetterie officielle</h1>
  </section>

  <!-- Liste des matchs (exemple) -->
  <main class="max-w-7xl mx-auto px-4 py-16">
    <h2 class="text-3xl font-bold mb-8">Choisissez un match</h2>
    <div class="grid md:grid-cols-2 gap-6">
      <!-- Match exemple -->
      <article class="border rounded-xl p-6 bg-white shadow hover:shadow-lg transition">
        <div class="flex items-center justify-between">
          <h3 class="text-2xl font-bold text-red-700">USBCO vs FC Rouen</h3>
          <span class="badge">National</span>
        </div>
        <p class="text-gray-700 mt-1">Ven 30 AoÃ»t â€” 19:30 â€” Stade de la LibÃ©ration</p>
        <div class="mt-4 flex flex-wrap gap-2">
          <span class="pill">Tribune Franck RibÃ©ry â€¢ 25â‚¬</span>
          <span class="pill">Tribune Ouest B â€¢ 25â‚¬</span>
          <span class="pill">Tribune Boulanger â€¢ 30â‚¬</span>
        </div>
        <button
          class="mt-5 inline-flex items-center gap-2 px-4 py-2 rounded-md bg-red-700 text-white hover:bg-red-800"
          onclick="openSeatMap('USBCO vs FC Rouen','2025-08-30 19:30')">
          ðŸª‘ Acheter mon billet
        </button>
      </article>
      <!-- Dupliques cet article pour d'autres matchs si besoin -->
    </div>
  </main>

  <!-- Modal Plan du stade -->
  <div id="seatModal" class="fixed inset-0 hidden z-[60] items-center justify-center bg-black/70 p-4">
    <div class="relative max-w-5xl w-full bg-white rounded-2xl shadow-2xl overflow-hidden">
      <button type="button" onclick="closeSeatMap()"
              class="absolute top-3 right-3 rounded-md bg-black/80 text-white px-3 py-2 hover:bg-black">
        âœ•
      </button>

      <div class="p-5 border-b">
        <h3 id="seatModalTitle" class="text-xl font-bold">SÃ©lectionnez votre place</h3>
        <p id="seatModalSub" class="text-sm text-gray-600 mt-1"></p>
      </div>

      <!-- Plan + zones -->
      <div class="grid lg:grid-cols-3 gap-0">
        <!-- Image + hotspots -->
        <div class="col-span-2 relative">
          <img src="./assets/stade-plan.jpg" alt="Plan du Stade de la LibÃ©ration" class="w-full h-full object-contain" />

          <!-- HOTSPOTS (positions approximatives en %) -->
          <!-- Franck RibÃ©ry : tribune rectiligne au Nord (haut du terrain sur le plan) -->
          <button class="hotspot" style="top: 22%; left: 60%;"
                  onclick="selectTribune('Tribune Franck RibÃ©ry', 25, 2501)">
            RibÃ©ry â€¢ 25â‚¬
          </button>

          <!-- Ouest B : Ã  gauche derriÃ¨re les buts (ouest) -->
          <button class="hotspot" style="top: 55%; left: 20%;"
                  onclick="selectTribune('Tribune Ouest B', 25, null)">
            Ouest B â€¢ 25â‚¬
          </button>

          <!-- Boulanger (Sud) : au sud/virage bas (1038 places) -->
          <button class="hotspot" style="top: 82%; left: 63%;"
                  onclick="selectTribune('Tribune Boulanger', 30, 1038)">
            Boulanger â€¢ 30â‚¬
          </button>
        </div>

        <!-- Panneau de sÃ©lection -->
        <div class="p-5 bg-gray-50">
          <h4 class="font-semibold text-lg">Votre sÃ©lection</h4>
          <div id="selectionBox" class="mt-3 text-gray-700">
            <p>Choisissez une tribune sur le plan.</p>
          </div>

          <div class="mt-6">
            <label class="text-sm text-gray-600">QuantitÃ©</label>
            <select id="qty" class="w-full mt-1 border rounded-md px-3 py-2">
              <option>1</option><option>2</option><option>3</option><option>4</option><option>5</option>
            </select>
          </div>

          <button id="ctaBtn" class="mt-6 w-full px-4 py-3 rounded-md bg-red-700 text-white disabled:opacity-40 disabled:cursor-not-allowed"
                  disabled>
            RÃ©server ma place
          </button>

          <p class="text-xs text-gray-500 mt-3">
            (Simulation : pas de paiement en ligne ici. Bouton cliquable pour dÃ©monstration.)
          </p>
        </div>
      </div>

      <!-- LÃ©gende -->
      <div class="p-5 border-t text-sm text-gray-600 flex flex-wrap gap-4">
        <span class="pill">RibÃ©ry : 25â‚¬ â€¢ ~2501 places</span>
        <span class="pill">Ouest B : 25â‚¬</span>
        <span class="pill">Boulanger : 30â‚¬ â€¢ ~1038 places</span>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="bg-gray-900 text-white py-6">
    <div class="max-w-7xl mx-auto px-4 flex flex-col sm:flex-row justify-between items-center">
      <p>Â© 2025 US Boulogne CÃ´te dâ€™Opale. Tous droits rÃ©servÃ©s.</p>
      <div class="flex gap-4 mt-4 sm:mt-0">
        <a href="#" target="_blank">Facebook</a>
        <a href="#" target="_blank">Twitter</a>
        <a href="#" target="_blank">Instagram</a>
      </div>
    </div>
  </footer>

  <!-- Script -->
  <script>
    let currentMatch = null;
    let selected = null;

    function openSeatMap(matchTitle, matchDateTime){
      currentMatch = { title: matchTitle, dt: matchDateTime };
      document.getElementById('seatModalTitle').textContent = matchTitle;
      document.getElementById('seatModalSub').textContent  = `Date : ${matchDateTime}`;
      document.getElementById('selectionBox').innerHTML = '<p>Choisissez une tribune sur le plan.</p>';
      document.getElementById('ctaBtn').disabled = true;
      const modal = document.getElementById('seatModal');
      modal.classList.remove('hidden'); modal.classList.add('flex');
      document.body.classList.add('overflow-hidden');
    }

    function closeSeatMap(){
      document.getElementById('seatModal').classList.add('hidden');
      document.getElementById('seatModal').classList.remove('flex');
      document.body.classList.remove('overflow-hidden');
      selected = null;
    }

    function euro(n){ return new Intl.NumberFormat('fr-FR', { style:'currency', currency:'EUR' }).format(n); }

    function selectTribune(name, price, capacity){
      selected = { name, price, capacity };
      const qty = parseInt(document.getElementById('qty').value, 10) || 1;
      const total = price * qty;
      document.getElementById('selectionBox').innerHTML = `
        <div class="rounded-lg border bg-white p-3">
          <p><strong>Tribune :</strong> ${name}${capacity ? ' â€¢ ' + capacity + ' places' : ''}</p>
          <p><strong>Tarif :</strong> ${euro(price)} / billet</p>
          <p><strong>Total (x${qty}) :</strong> ${euro(total)}</p>
        </div>
      `;
      document.getElementById('ctaBtn').disabled = false;
    }

    // Recalcule le total si la quantitÃ© change
    document.getElementById('qty').addEventListener('change', () => {
      if (!selected) return;
      selectTribune(selected.name, selected.price, selected.capacity);
    });

    // CTA (simulation)
    document.getElementById('ctaBtn').addEventListener('click', () => {
      if (!selected || !currentMatch) return;
      alert(
        `RÃ©servation simulÃ©e :\\n\\n` +
        `${currentMatch.title} â€” ${currentMatch.dt}\\n` +
        `Tribune : ${selected.name}\\n` +
        `Prix : ${euro(selected.price)} x ${document.getElementById('qty').value}`
      );
      closeSeatMap();
    });

    // Fermer modal : clic fond + Ã‰chap
    document.getElementById('seatModal').addEventListener('click', (e) => {
      if (e.target.id === 'seatModal') closeSeatMap();
    });
    document.addEventListener('keydown', (e) => { if (e.key === 'Escape') closeSeatMap(); });
  </script>
</body>
</html>
